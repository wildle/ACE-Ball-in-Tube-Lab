<?xml version="1.0"?>
<EtherCATInfo xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="EtherCATInfo.xsd" Version="1.6">

<!--*************************************************************************************** -->
<!--                                                                                        -->
<!-- Beckhoff Internal Education Setup				                                        -->
<!-- Ball In Tube Setup					 			                                        -->
<!-- Clemens Maier                                                                          -->
<!-- 01/04/2021																				-->
<!-- 																						-->
<!--*************************************************************************************** -->



	<Vendor>
		<Id>#x31415926</Id> 
	  	<Name>BA_Education</Name>  
	    <ImageData16x14>424d06022020202020204620202038202020102020200e2020200120102003202020c0012020232e2020232e2020202020202020202020f82020e00720201f2020202020202017d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d73ffffffffffffffffffffffffffffffffffffffffffffffffffffffff17d7317d73ffffffffffff2020ffffffffffff2020ffffffff2020ffffffffffff17d7317d73ffffffffffff2020ffffffffffff2020ffffffff2020ffffffffffff17d7317d73ffffffffffff2020ffffffffffff2020ffffffff2020ffffffffffff17d7317d73ffffffffffff2020ffff2020ffff2020ffffffff2020ffffffffffff17d7317d73ffffffffffff20202020ffff20202020ffffffff2020ffffffffffff17d7317d73ffffffffffff2020ffffffffffff2020ffffffff2020ffffffffffff17d7317d73ffffffffffffffffffffffffffffffffffffffffffffffffffffffff17d7317d73ffff22f1ffffffff22f1ffff22f1ffffffffffffffffffffffffffff17d7317d73ffff22f1ffffffff22f122f1ffffffffffffffffffffffffffffffff17d7317d73ffff22f1ffffffff22f1ffff22f1ffffffffffffffffffffffffffff17d7317d7322f122f122f1ffff22f122f1ffffffffffffffffffffffffffffffff17d7317d73</ImageData16x14>
	</Vendor> 
  <Descriptions>
    <Groups>
      <Group SortOrder="0">
        <Type>BA_Education</Type>
        <Name LcId="1033">BA_Education</Name>
        <ImageData16x14>424d06022020202020204620202038202020102020200e2020200120102003202020c0012020232e2020232e2020202020202020202020f82020e00720201f2020202020202017d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d7317d73ffffffffffffffffffffffffffffffffffffffffffffffffffffffff17d7317d73ffffffffffff2020ffffffffffff2020ffffffff2020ffffffffffff17d7317d73ffffffffffff2020ffffffffffff2020ffffffff2020ffffffffffff17d7317d73ffffffffffff2020ffffffffffff2020ffffffff2020ffffffffffff17d7317d73ffffffffffff2020ffff2020ffff2020ffffffff2020ffffffffffff17d7317d73ffffffffffff20202020ffff20202020ffffffff2020ffffffffffff17d7317d73ffffffffffff2020ffffffffffff2020ffffffff2020ffffffffffff17d7317d73ffffffffffffffffffffffffffffffffffffffffffffffffffffffff17d7317d73ffff22f1ffffffff22f1ffff22f1ffffffffffffffffffffffffffff17d7317d73ffff22f1ffffffff22f122f1ffffffffffffffffffffffffffffffff17d7317d73ffff22f1ffffffff22f1ffff22f1ffffffffffffffffffffffffffff17d7317d7322f122f122f1ffff22f122f1ffffffffffffffffffffffffffffffff17d7317d73</ImageData16x14>
      </Group>
    </Groups>
    <Devices>

<!-- ************************************************************************************** --> 
<!--                                                                                        --> 
<!--     Custom device                                                                      -->       
<!--                                                                                        --> 
<!-- ************************************************************************************** -->   

      <Device Physics="YY">
        <Type ProductCode="#x00000001" RevisionNo="#x00000001" CheckRevisionNo="EQ_OR_G">BallInTubeControl</Type>
        <Name LcId="1033"><![CDATA[BA_Education Slave]]></Name>        
        <GroupType>BA_Education</GroupType>
        <Fmmu>Outputs</Fmmu>
        <Fmmu>Inputs</Fmmu>
       
	    <!-- output base physical address -->       
        <Sm StartAddress="#x1000" ControlByte="#x64" Enable="1">Outputs</Sm>

		<!-- input base physical address -->             
        <Sm StartAddress="#x1200" ControlByte="#x20" Enable="1">Inputs</Sm>

<!-- ***************** output PDO ********************************************************** --> 
 
        <RxPdo Fixed="1" Mandatory="1" Sm="0">
          <Index>#x1600</Index>
          <Name>Outputs</Name>
          <Entry>
            <Index>#x5</Index>
            <SubIndex>1</SubIndex>
            <BitLen>16</BitLen>
            <Name>DutyCyclePWM_FAN</Name>
            <DataType>UINT</DataType>
          </Entry>
          <Entry>
            <Index>#x5</Index>
            <SubIndex>2</SubIndex>
            <BitLen>8</BitLen>
            <Name>Ctrl</Name>
            <DataType>USINT</DataType>
          </Entry>
        </RxPdo>          
        
<!-- ***************** input PDO *********************************************************** -->
 
        <TxPdo Fixed="1" Mandatory="1" Sm="1">
          <Index>#x1A00</Index>
          <Name>Inputs</Name>
          <Entry>
            <Index>#x6</Index>
            <SubIndex>1</SubIndex>
            <BitLen>16</BitLen>
            <Name>actPosition</Name>
            <DataType>UINT</DataType>
          </Entry>
          <Entry>
            <Index>#x6</Index>
            <SubIndex>2</SubIndex>
            <BitLen>16</BitLen>
            <Name>actRPM_FAN</Name>
            <DataType>UINT</DataType>
          </Entry>
          <Entry>
            <Index>#x6</Index>
            <SubIndex>3</SubIndex>
            <BitLen>8</BitLen>
            <Name>State</Name>
            <DataType>USINT</DataType>
          </Entry>
        </TxPdo>

<!-- ***************** Synchronization ***************************************************** -->
        
		<Dc>                                                        <!-- DC not used(default)--> 
			<OpMode>                                          
				<Name>SM_Sync or Async</Name>
				<Desc>SM_Sync or Async</Desc>            
				<AssignActivate>#x0000</AssignActivate>
			</OpMode>
  
			<OpMode>                                                <!-- DC used             --> 
				<Name>DC_Sync</Name>
				<Desc>DC_Sync</Desc>               
				<AssignActivate>#x300</AssignActivate>
				<CycleTimeSync0 Factor="1">0</CycleTimeSync0>
				<ShiftTimeSync0>2000200000</ShiftTimeSync0>         <!-- 10nS unit           --> 
			</OpMode>
		</Dc>       
  
<!-- *************************************************************************************** -->

        <Eeprom>
          <ByteSize>4096</ByteSize>                  
          <ConfigData>8003006EFF00FF000000</ConfigData> 
                                                 <!-- 0x140   0x80 PDI type LAN9252 Spi      -->  
                                           
                                                 <!-- 0x141   0x03 device emulation          -->
                                                 <!--         enhanced link detection        -->  
                                           
                                                 <!-- 0x150   0x00 not used for LAN9252 Spi  -->
                                           
                                                 <!-- 0x151   0x6E map Sync0 to AL event     -->
                                                 <!--         Sync0/Latch0 assigned to Sync0 -->
                                                 <!--         Sync1/Latch1 assigned to Sync1 -->
                                                 <!--         Sync0/1 push/pull active high  -->                                           
                                                                                      
                                                 <!-- 0x982-3 0x00FF Sync0/1 lenght = 2.5uS  -->         
                                                       
                                                 <!-- 0x152   0xFF all GPIO set to out       -->
                                                 <!-- 0x153   0x00 reserved                  -->    
                                           
                                                 <!-- 0x12-13 0x0000 alias address           -->                                        
        </Eeprom>    
      </Device>          
    </Devices>
  </Descriptions>
</EtherCATInfo>  

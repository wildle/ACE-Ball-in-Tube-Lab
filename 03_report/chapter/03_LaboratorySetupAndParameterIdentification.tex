\chapter{Laboratory Setup and Parameter Identification}

This chapter describes the physical Ball-in-Tube setup used in the laboratory and the
procedures applied to identify the key system parameters required for modelling and
simulation. Only the elements relevant for controller design are included.

\section*{Experimental Setup}

The test rig consists of a transparent vertical tube, a lightweight ping-pong ball, a
DC axial fan mounted at the bottom of the tube, and a time-of-flight (ToF) distance
sensor for measuring the ball height. The airflow generated by the fan produces an
upward force on the ball, which balances gravity at steady state. The fan voltage is
supplied via a Beckhoff PLC, and both the control algorithm and the signal acquisition
are implemented through MATLAB/Simulink and the provided interface.

All simulations and measurements are performed using the parameters supplied in the
laboratory instructions, including geometric data, air density, gravitational acceleration,
and the maximum permissible input voltage.

\section*{Fan Parameter Identification}

To identify the fan dynamics, a step voltage is applied and the resulting fan speed
\(\omega(t)\) is measured. The response exhibits a first-order behaviour, allowing the
parameters of the PT1 model
\[
    \tau_\omega \dot{\omega}(t) + \omega(t)
    = k_\omega \left( u(t) - u_0 \right)
\]
to be determined. The steady-state value of \(\omega\) relative to the applied voltage
yields the gain \(k_\omega\), while the time required to reach approximately \(63\%\) of
the steady-state value provides the time constant \(\tau_\omega\). The voltage shift \(u_0\)
is obtained from the intercept of the steady-state \(\omega(u)\) characteristic.

Plots of the measured step response are included to illustrate the identification of
\(\tau_\omega\), \(k_\omega\), and \(u_0\).

\section*{Ball Dynamics Parameters}

The aerodynamic model of the ball contains the coefficients \(\alpha_1\), \(\alpha_2\), and
\(\alpha_3\), which depend on the tube and ball geometry, the drag constant, and the
fanâ€“airflow relationship. These quantities are determined from static experiments in
which the ball height is recorded for different steady fan speeds. By combining
the measured equilibrium condition
\[
    \left( \alpha_1 \, \omega_\mathrm{eq} - \alpha_2 \, \dot{z} \right)^2 = \alpha_3,
\]
with \(\dot{z} = 0\), the parameters can be estimated through regression or direct
substitution.

The identified parameters are summarised in a table in the appendix, while the
corresponding measurement plots are included for reference.

\section*{Calibration of the ToF Sensor}

Before performing the identification, the ToF sensor is calibrated to ensure accurate
height measurements. This includes verifying the zero-offset at the tube bottom and
checking linearity using known reference distances. The calibration offsets are
incorporated into the sensor preprocessing in the Simulink model.

